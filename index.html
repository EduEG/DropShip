<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <title>DropShip Academy â€” Videos</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
    :root{
      --bg:#f5f7fa;
      --card:#ffffff;
      --muted:#6b7280;
      --primary:#2563EB;
      --radius:12px;
      --shadow: 0 8px 30px rgba(15,23,42,0.06);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background:var(--bg);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .app {
      width:100%;
      max-width:980px;
    }
    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:20px;
      margin-bottom:18px;
    }
    header.appbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }
    .brand { color:var(--primary); font-weight:700; font-size:18px; }
    .muted{ color:var(--muted); }
    .center{ text-align:center; }
    input, button, select {
      font-family: inherit;
      font-size:15px;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid #e6e9f2;
    }
    .primary{
      background:linear-gradient(90deg,var(--primary),#1D4ED8);
      color:#fff; border:none; cursor:pointer; font-weight:700;
      padding:10px 14px; border-radius:10px;
    }
    .primary:disabled{ opacity:0.6; cursor:not-allowed; }
    .lessons-list{ display:flex; flex-direction:column; gap:10px; }
    .lesson-row{
      display:flex; align-items:center; gap:12px; justify-content:space-between;
      padding:12px; border-radius:10px; border:1px solid #eef2ff;
    }
    .locked{ opacity:0.6; }
    iframe { width:100%; height:480px; border-radius:10px; border:0; }
    .actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:12px; }
    .small{ font-size:13px; color:var(--muted); }
    @media (max-width:800px){
      iframe{ height:260px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <div class="appbar">
        <div>
          <div class="brand">DropShip Academy ğŸ’¸</div>
          <div class="small">Video-only course â€” login with an access code</div>
        </div>
        <div id="top-actions"></div>
      </div>

      <!-- Login -->
      <div id="login-section">
        <div class="center">
          <h2>Enter access code</h2>
          <p class="muted">Use the code provided to you by admin</p>
          <input id="accessCode" placeholder="Ù…Ø«Ø§Ù„: DSA-1256" />
          <div style="height:12px"></div>
          <button id="btnLogin" class="primary">Enter</button>
        </div>
      </div>

      <!-- Lessons list -->
      <div id="lessons-section" class="hidden">
        <h3>Ø§Ù„Ø¯Ø±ÙˆØ³</h3>
        <p class="small">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø³ Ù„ÙØªØ­Ù‡. Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ø¶ØºØ· "Ø¹Ù„Ø§Ù…Ø© Ø´Ø§Ù‡Ø¯Øª" Ù„ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ.</p>
        <div id="lessons-list" class="lessons-list"></div>
      </div>

      <!-- Lesson view -->
      <div id="lesson-view" class="hidden">
        <div id="lesson-card" class="card"></div>
      </div>
    </div>

    <div id="footer" class="small center muted">Saved locally on this browser â€” progress persists here only.</div>
  </div>

  <script>
  // ====== CONFIG ======
  const validCodes = ["DSA123","VIP2025","BETA2025","STUDENT01"]; // change these codes as needed

  // Lessons populated from your Excel (title + embed URL)
  const lessons = [
    {"title":"(2) ÙŠØ¹Ù†ÙŠ Ø§ÙŠÙ‡ e-commerce","video":"https://www.youtube.com/embed/sbJaUndgqCo?si=wmNK8pyRPbREYsol"},
    {"title":"(3) ÙŠØ¹Ù†ÙŠ Ø¥ÙŠÙ‡ drop-shipping","video":"https://www.youtube.com/embed/I25rdouAPdY?si=UMlSIH5lr-V6MEQx"},
    {"title":"(4) Ù‡Ø³ØªÙÙŠØ¯ Ø§ÙŠÙ‡ Ù…Ù† ØªØ§Ø¬Ø±ØŸ","video":"https://www.youtube.com/embed/VPJ2JnXWA88?si=lYH9sEb6MawN4iO2"},
    {"title":"(5) Ø§Ø²Ø§ÙŠ Ø§Ø³Ø¬Ù„ Ù…Ø¹ ØªØ§Ø¬Ø±ØŸ","video":"https://www.youtube.com/embed/uFvbqknQQ38?si=xIiYJPzgdvqZqd-T"},
    {"title":"(6) Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù…ÙˆÙ‚Ø¹ ØªØ§Ø¬Ø±","video":"https://www.youtube.com/embed/Ao1YMrJbeBw?si=XGEDxKigkxnygNJT"},
    {"title":"(7) Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø´Ø­Ù† ÙÙŠ Ù…ÙˆÙ‚Ø¹ ØªØ§Ø¬Ø±","video":"https://www.youtube.com/embed/z98W3etHyVU?si=MSLD7vxKtg4wyxyS"},
    {"title":"(8) Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹","video":"https://www.youtube.com/embed/cDtf1dg02SA?si=wcFPBVqalXchsoms"},
    {"title":"(9) Ù†ØµØ§Ø¦Ø­ Ù„Ø²ÙŠØ§Ø¯Ø© Ù†Ø³Ø¨ Ø§Ù„ØªØ³Ù„ÙŠÙ… ÙˆØ³Ø±Ø¹Ø© Ø§Ù„ØªÙˆØµÙŠÙ„","video":"https://www.youtube.com/embed/4rVLpUn9Z-k?si=6ZsP8hn0tHeJZUFV"},
    {"title":"(10) Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ¹Ø±ÙˆØ¶ ØªØ§Ø¬Ø± Ø§Ù„Ø­ØµØ±ÙŠØ©","video":"https://www.youtube.com/embed/CdMZO5VdPSs?si=JOoE0pVhj-RfQngk"},
    {"title":"(11) Ø¥Ø²Ø§Ù‰ ØªØ®ØªØ§Ø± Ù…Ù†ØªØ¬ÙƒØŸ","video":"https://www.youtube.com/embed/ty2rR3-kEdo?si=TllqdhHKTHuTRXg0"},
    {"title":"(12) Ø¥Ø²Ø§Ù‰ ØªØ¨ØªØ¯ÙŠ ØªØ³ÙˆÙŠÙ‚ Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ","video":"https://www.youtube.com/embed/dyyD8CjBjxo?si=q4dDO9BBiZmwnSSi"},
    {"title":"(13) Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…Ù†ØªØ¬","video":"https://www.youtube.com/embed/f6uJTPQeBDY?si=QWqxXie1jCpBEi07"},
    {"title":"(14) Ø¥Ø²Ø§Ù‰ ØªØ¹Ù…Ù„ ØªØµÙ…ÙŠÙ… Ø¹Ù„Ù‰ canva","video":"https://www.youtube.com/embed/hVeJGi8bLH8?si=qptl8ienh6zhpxrs"},
    {"title":"(15) Ø§Ù„ØªØ¹Ø±Ù Ø§ÙƒØªØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬","video":"https://www.youtube.com/embed/yGeaSjjVwCM?si=Jje3r-XWpeT2usG4"},
    {"title":"(16) ÙƒÙŠÙÙŠØ© ÙƒØªØ§Ø¨Ø© Ù…Ø­ØªÙˆÙ‰ Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬","video":"https://www.youtube.com/embed/vjV9GYvVkxQ?si=xNwDnHyOCL0y32Zw"},
    {"title":"(17) Ø§Ø¨Ø³Ø· Ø·Ø±ÙŠÙ‚Ø© Ù„Ø¹Ù…Ù„ Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ","video":"https://www.youtube.com/embed/c4Q1itEUnRw?si=tOeEO5rJDqPMgudU"},
    {"title":"(18) Ø§Ù„Ø§Ø³ØªÙ‡Ø¯Ø§Ù","video":"https://www.youtube.com/embed/sBQR_imqdaE?si=rpHouMMONO8ek8vB"},
    {"title":"(19) ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†","video":"https://www.youtube.com/embed/zLQVIJjEZjU?si=X2bGSZBoCwDi5xz7"},
    {"title":"(20) Ø¥Ø²Ø§Ù‰ ØªØ³Ø¬Ù„ Ø·Ù„Ø¨Ùƒ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ ØªØ§Ø¬Ø±","video":"https://www.youtube.com/embed/iJI70IhcETY?si=1IyLr7fPr9glR_Fs"},
    {"title":"(21) Ù…ØªØ§Ø¨Ø¹Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨","video":"https://www.youtube.com/embed/jwDvZ141Rdw?si=g0rYl14PFccbpD1N"},
    {"title":"(22) Ø¥Ø²Ø§Ù‰ ØªØ¹Ù…Ù„ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø£Ùˆ Ø§Ø³ØªØ±Ø¬Ø§Ø¹","video":"https://www.youtube.com/embed/1q_6rfki_Lk?si=E9A-OHYYu95Tavr2"},
    {"title":"(23) Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨","video":"https://www.youtube.com/embed/y4JEXH4h3dc?si=FfMkc7YZJRhJV41y"},
    {"title":"(24) Ø§Ù„Ù…Ø­ÙØ¸Ø©","video":"https://www.youtube.com/embed/c26CfZgFI1Y?si=ZrZJRkJFCPFVw1go"},
    {"title":"(25) Ø¥Ø²Ø§Ù‰ ØªÙÙƒØ± Ø¹Ø´Ø§Ù† ØªÙƒØ¨Ø± Ø§Ù„Ø¨ÙŠØ²Ù†Ø³ Ø¨ØªØ§Ø¹ÙƒØŸ","video":"https://www.youtube.com/embed/I7RkRxbSHFo?si=yM6DUo1dwVrsMfgw"},
    {"title":"(27) ØªØ¬Ø±Ø¨ØªÙŠ Ù…Ø¹ ØªØ§Ø¬Ø±","video":"https://www.youtube.com/embed/SR3xINbPUBs?si=5NjcEyrgXa-wPBIm"},
    {"title":"(26) Ø´ÙƒØ§ÙˆÙ‰ ÙˆÙ…Ù‚ØªØ±Ø­Ø§Øª Ù…ÙˆÙ‚Ø¹ ØªØ§Ø¬Ø±","video":"https://www.youtube.com/embed/6zgiAhnqz98?si=K9T8EnjqozKQn3vz"},
    {"title":"(28) Ù„ÙŠÙ‡ Ø§Ø´ØªØºÙ„ Ù…Ø¹ ØªØ§Ø¬Ø±ØŸ","video":"https://www.youtube.com/embed/9PtaFJNJcx8?si=D5WLr_qIpAR9c1uH"}
  ];

  // ====== UI elements ======
  const loginSection = document.getElementById('login-section');
  const lessonsSection = document.getElementById('lessons-section');
  const lessonsList = document.getElementById('lessons-list');
  const lessonView = document.getElementById('lesson-view');
  const lessonCard = document.getElementById('lesson-card');
  const topActions = document.getElementById('top-actions');

  // ====== Helpers ======
  function isAuthorized() {
    return localStorage.getItem('dsa_authorized') === 'true';
  }
  function setAuthorized(code) {
    localStorage.setItem('dsa_authorized','true');
    localStorage.setItem('dsa_code', code);
  }
  function logout() {
    // keep progress, only remove auth
    localStorage.removeItem('dsa_authorized');
    localStorage.removeItem('dsa_code');
    location.reload();
  }

  // render top actions (logout & progress)
  function renderTopActions(){
    topActions.innerHTML = '';
    if (isAuthorized()){
      const btnProgress = document.createElement('button');
      btnProgress.textContent = 'Progress';
      btnProgress.className = 'primary';
      btnProgress.style.background = '#fff';
      btnProgress.style.color = '#2563EB';
      btnProgress.onclick = () => showProgress();
      const btnLogout = document.createElement('button');
      btnLogout.textContent = 'Logout';
      btnLogout.className = 'primary';
      btnLogout.onclick = logout;
      topActions.appendChild(btnProgress);
      topActions.appendChild(btnLogout);
    }
  }

  // ====== Login flow ======
  document.getElementById('btnLogin').addEventListener('click', () => {
    const code = document.getElementById('accessCode').value.trim();
    if (!code) return alert('Please enter access code');
    if (validCodes.includes(code)){
      setAuthorized(code);
      // unlock first lesson
      localStorage.setItem('lesson0_unlocked','true');
      showLessons();
    } else {
      alert('Invalid access code â€” contact admin');
    }
  });

  // show lessons list
  function showLessons(){
    loginSection.classList.add('hidden');
    lessonView.classList.add('hidden');
    lessonsSection.classList.remove('hidden');
    lessonsList.innerHTML = '';
    renderTopActions();

    lessons.forEach((ls, idx) => {
      const unlocked = localStorage.getItem(`lesson${idx}_unlocked`) === 'true';
      const watched = localStorage.getItem(`lesson${idx}_watched`) === 'true';
      const row = document.createElement('div');
      row.className = 'lesson-row card';
      if (!unlocked) row.classList.add('locked');

      const left = document.createElement('div');
      left.innerHTML = `<div style="font-weight:700">${idx+1}. ${ls.title}</div><div class="small">${unlocked? (watched? 'Ù…Ø´Ø§Ù‡Ø¯Ø© âœ…':'ØªÙ… ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³') : 'Ù…Ù‚ÙÙ„ ğŸ”’'}</div>`;
      const right = document.createElement('div');
      right.style.display = 'flex';
      right.style.gap = '8px';
      const openBtn = document.createElement('button');
      openBtn.className = 'primary';
      openBtn.textContent = 'ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³';
      openBtn.disabled = !unlocked;
      openBtn.onclick = () => openLesson(idx);
      right.appendChild(openBtn);

      row.appendChild(left);
      row.appendChild(right);
      lessonsList.appendChild(row);
    });
  }

  // open lesson view
  function openLesson(index){
    if (!isAuthorized()){ alert('Please login'); return; }
    lessonsSection.classList.add('hidden');
    lessonView.classList.remove('hidden');

    const ls = lessons[index];
    const watched = localStorage.getItem(`lesson${index}_watched`) === 'true';

    lessonCard.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div>
          <div style="font-weight:800;font-size:18px">${index+1}. ${ls.title}</div>
          <div class="small muted">Ø¯Ø±Ø³ ${index+1} Ù…Ù† ${lessons.length}</div>
        </div>
        <div>
          <button id="backBtn" class="primary" style="background:#fff;color:#2563EB;border:1px solid #e6e9f2">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
        </div>
      </div>

      <div style="margin-top:12px">
        <iframe id="videoFrame" src="${ls.video}" allowfullscreen></iframe>
      </div>

      <div class="actions">
        <button id="markWatched" class="primary" ${watched? 'disabled':''}>${watched? 'Ø´Ø§Ù‡Ø¯Øª Ø¨Ø§Ù„ÙØ¹Ù„ âœ…' : 'Ø¹Ù„Ù…Øª Ø£Ù†Ù‰ Ø´Ø§Ù‡Ø¯Øª â€” Ø§ÙØªØ­ Ø§Ù„ØªØ§Ù„ÙŠ'}</button>
        <button id="unlockNext" class="primary" style="background:#fff;color:#2563EB;border:1px solid #e6e9f2">ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ (Ù„Ùˆ Ù…ØªØ§Ø­)</button>
      </div>

      <div style="margin-top:10px" class="small muted">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ø¶ØºØ· "Ø¹Ù„Ù…Øª Ø£Ù†Ù‰ Ø´Ø§Ù‡Ø¯Øª" Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¦Ùƒ Ù…Ù† Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ.</div>
    `;

    document.getElementById('backBtn').onclick = ()=> {
      lessonView.classList.add('hidden');
      showLessons();
    };

    document.getElementById('markWatched').onclick = () => {
      localStorage.setItem(`lesson${index}_watched`, 'true');
      // mark current as unlocked (already), and unlock next
      if (index + 1 < lessons.length){
        localStorage.setItem(`lesson${index+1}_unlocked`, 'true');
      }
      // disable the button and update label
      const btn = document.getElementById('markWatched');
      btn.textContent = 'Ø´Ø§Ù‡Ø¯Øª Ø¨Ø§Ù„ÙØ¹Ù„ âœ…';
      btn.disabled = true;
      alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© â€” Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù† (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯)');
    };

    document.getElementById('unlockNext').onclick = () => {
      if (index + 1 < lessons.length){
        localStorage.setItem(`lesson${index+1}_unlocked`, 'true');
        alert('Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ø¢Ù†.');
      } else {
        alert('Ù‡Ø°Ø§ Ø¢Ø®Ø± Ø¯Ø±Ø³.');
      }
      showLessons();
    };
  }

  // show progress modal-like (simple view)
  function showProgress(){
    let done = 0;
    lessons.forEach((_,i) => {
      if (localStorage.getItem(`lesson${i}_watched`) === 'true') done++;
    });
    alert(`Ø§Ù„ØªÙ‚Ø¯Ù‘Ù…: ${done} / ${lessons.length} Ø¯Ø±Ø³ (Ù…Ø³Ø¬Ù‘Ù„ ÙƒÙ…Ø´Ø§Ù‡Ø¯Ø©)`);
  }

  // on load: if authorized show lessons else show login
  window.onload = () => {
    if (isAuthorized()){
      showLessons();
    } else {
      loginSection.classList.remove('hidden');
      lessonsSection.classList.add('hidden');
      lessonView.classList.add('hidden');
    }
    renderTopActions();
  };
  </script>
</body>
</html>
